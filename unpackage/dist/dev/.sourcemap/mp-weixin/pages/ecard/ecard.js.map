{"version":3,"file":"ecard.js","sources":["pages/ecard/ecard.vue","pages/ecard/ecard.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <view class=\"search-box\">\n            <input type=\"text\" v-model=\"dormId\" placeholder=\"请输入宿舍号 例如10-437\" class=\"input\" />\n            <button class=\"btn\" @click=\"getElectric\">查询</button>\n        </view>\n\n        <view v-if=\"result\" class=\"card\">\n            <view class=\"card-title\">宿舍电费信息</view>\n            <view class=\"card-item\">\n                <text class=\"label\">宿舍号：</text>\n                <text>{{ result.UserCode }}</text>\n            </view>\n            <view class=\"card-item\">\n                <text class=\"label\">剩余电费：</text>\n                <text class=\"highlight\">{{ result.Reserve }} 元</text>\n            </view>\n            <view class=\"card-item\">\n                <text class=\"label\">缴费方式：</text>\n                <text>{{ payTypeMap[result.PayType] }}</text>\n            </view>\n            <view class=\"card-item\">\n                <text class=\"label\">最近抄表时间：</text>\n                <text>{{ result.ReadTime }}</text>\n            </view>\n        </view>\n\n        <view v-else class=\"empty\"> 暂无查询结果，请输入宿舍号查询 </view>\n    </view>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { getElectricAPI } from \"../../API/ecard.js\";\n\nconst dormId = ref(\"\");\nconst result = ref(\"\");\n\nconst payTypeMap = {\n    1: \"现金\",\n    2: \"预付费\",\n    3: \"校园卡\",\n};\n\nasync function getElectric() {\n    uni.showLoading({\n        title: \"查询中...\",\n        mask: true,\n    });\n    if (!dormId.value) {\n        uni.showToast({ title: \"请输入宿舍号\", icon: \"none\" });\n        return;\n    }\n    try {\n        const res = await getElectricAPI(dormId.value);\n        if (res.data.data.Code !== \"-1\") {\n            result.value = res.data.data;\n        } else {\n            uni.showToast({ title: res.data?.Msg || \"查询失败,请检查宿舍号是否正确\", icon: \"error\" });\n        }\n    } catch (err) {\n        uni.showToast({ title: \"接口请求失败\", icon: \"none\" });\n    }\n    uni.hideLoading();\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n    padding: 20rpx;\n}\n\n.search-box {\n    display: flex;\n    gap: 20rpx;\n    margin-bottom: 30rpx;\n}\n\n.input {\n    flex: 1;\n    border: 1px solid #ddd;\n    border-radius: 8rpx;\n    padding: 16rpx;\n    font-size: 28rpx;\n}\n\n.btn {\n    background-color: #4a90e2;\n    color: #fff;\n    border: none;\n    border-radius: 8rpx;\n    padding: 0 32rpx;\n    font-size: 28rpx;\n}\n\n.card {\n    background: #fff;\n    padding: 24rpx;\n    border-radius: 16rpx;\n    box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n}\n\n.card-title {\n    font-size: 32rpx;\n    font-weight: bold;\n    margin-bottom: 20rpx;\n    color: #333;\n}\n\n.card-item {\n    display: flex;\n    margin-bottom: 12rpx;\n    font-size: 28rpx;\n    color: #555;\n}\n\n.label {\n    color: #888;\n    width: 220rpx;\n}\n\n.highlight {\n    color: #e74c3c;\n    font-weight: bold;\n}\n\n.empty {\n    text-align: center;\n    color: #aaa;\n    font-size: 28rpx;\n    margin-top: 40rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/zhangrui/Library/Mobile Documents/com~apple~CloudDocs/Desktop/桌面/WeChatApp/course-wechat/pages/ecard/ecard.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","getElectricAPI","MiniProgramPage"],"mappings":";;;;;;AAmCA,UAAM,SAASA,cAAAA,IAAI,EAAE;AACrB,UAAM,SAASA,cAAAA,IAAI,EAAE;AAErB,UAAM,aAAa;AAAA,MACf,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA,IACP;AAEA,mBAAe,cAAc;;AACzBC,oBAAAA,MAAI,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACd,CAAK;AACD,UAAI,CAAC,OAAO,OAAO;AACfA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,OAAM,CAAE;AAC/C;AAAA,MACH;AACD,UAAI;AACA,cAAM,MAAM,MAAMC,UAAAA,eAAe,OAAO,KAAK;AAC7C,YAAI,IAAI,KAAK,KAAK,SAAS,MAAM;AAC7B,iBAAO,QAAQ,IAAI,KAAK;AAAA,QACpC,OAAe;AACHD,wBAAAA,MAAI,UAAU,EAAE,SAAO,SAAI,SAAJ,mBAAU,QAAO,mBAAmB,MAAM,QAAO,CAAE;AAAA,QAC7E;AAAA,MACJ,SAAQ,KAAK;AACVA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,OAAM,CAAE;AAAA,MAClD;AACDA,oBAAG,MAAC,YAAW;AAAA,IACnB;;;;;;;;;;;;;;;;AC/DA,GAAG,WAAWE,SAAe;"}