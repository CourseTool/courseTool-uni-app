{"version":3,"file":"community.js","sources":["pages/community/community.vue","pages/community/community.vue?type=page"],"sourcesContent":["<template>\r\n    <view class=\"lost-found\">\r\n        <div class=\"list\">\r\n            <div @click='openDetails(d)' class=\"lost-found-item\" v-for=\"d in lostFoundList\">\r\n                <div class=\"push-info\">\r\n                    <div class=\"left-pic\">\r\n                        <image :src=\"d.pic\" mode=\"\"></image>\r\n                    </div>\r\n                    <div class=\"right-info\">\r\n                        <p>{{ d.push_name }}</p>\r\n                        <p>@{{ d.push_name }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"content\">\r\n                    <p>{{ d.content }}</p>\r\n                </div>\r\n                <div class=\"img-list\">\r\n                    <image v-for=\"(url, i) in d.img_list\" @click=\"previewImg(d.img_list, i)\" :src=\"url\" mode=\"\"></image>\r\n                </div>\r\n                <div class=\"footer-tool\">\r\n                    <p class=\"time\">\r\n                        <image src=\"../../static/时钟.png\" mode=\"\"></image>\r\n                        <span>{{ d.created_time }}</span>\r\n                    </p>\r\n                    <p class=\"share\">\r\n                        <uni-icons color=\"#c8c8c6\" type=\"redo\" size=\"20\"></uni-icons>\r\n                        <button open-type=\"share\">分享</button>\r\n                    </p>\r\n                </div>\r\n                <div style='display: flex; align-items: center; justify-content: flex-start;' class=\"tips\">\n\t\t\t\t\t<uni-icons color=\"#c8c8c6\" type=\"info\" size=\"12\"></uni-icons>\t\t\t\t\n\t\t\t\t\t<span style='font-size:18rpx;color:#c8c8c6'>商业推广 真假请自行分辨 </span>\n\t\t\t\t</div>\r\n            </div>\r\n        </div>\r\n        <custom-tabbar :selected=\"1\"></custom-tabbar>\r\n    </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { getTypeLostFoundListAPI } from \"@/API/course.js\";\r\nimport { onMounted, ref, computed } from \"vue\";\r\n\r\nconst lostFoundList = ref([]);\r\nconst currentNavIndex = ref(0);\n\nfunction openDetails(data){\n\tconsole.log(data);\n\tif(data.targetUrl){\n\t\tconst obj = data.targetUrl.split(',');\n\t\tuni.navigateToMiniProgram({\n\t\t    appId: obj[0],\n\t\t    path: obj[1],\n\t\t    success() {\n\t\t        console.log(\"跳转成功\");\n\t\t    },\n\t\t});\n\t}\n\telse if(data.copyText){\n\t\tuni.setClipboardData({\n\t\t    data: data.copyText,\n\t\t    success: function () {\n\t\t        uni.showToast({\n\t\t            title: \"复制成功\",\n\t\t            icon: \"success\",\n\t\t        });\n\t\t    },\n\t\t});\n\t}\n}\r\n\r\nfunction onShareAppMessage() {\r\n    wx.showShareMenu({\r\n        withShareTicket: true,\r\n        menu: [\"shareAppMessage\", \"shareTimeline\"],\r\n    });\r\n}\r\n//用户点击右上角分享朋友圈\r\nfunction onShareTimeline() {\r\n    return {\r\n        title: \"\",\r\n        query: {\r\n            key: value,\r\n        },\r\n        imageUrl: \"\",\r\n    };\r\n}\r\n\r\nfunction switchType(type, index) {\r\n    currentNavIndex.value = index;\r\n    getLostFoundList(type);\r\n}\r\n\r\nconst activeLeft = computed(() => {\r\n    return 295 * currentNavIndex.value + 20 + \"rpx\";\r\n});\r\n\r\nfunction previewImg(imgList, index) {\r\n    uni.previewImage({\r\n        urls: imgList,\r\n        current: index,\r\n        longPressActions: {\r\n            itemList: [\"发送给朋友\", \"保存图片\", \"收藏\"],\r\n        },\r\n    });\r\n}\r\n\r\nasync function getLostFoundList(type = \"综合\") {\r\n    uni.showLoading({\r\n        title: \"加载中...\",\r\n    });\r\n    const res = await getTypeLostFoundListAPI(type);\r\n    lostFoundList.value = res.data.data;\r\n    uni.hideLoading();\r\n}\r\n\r\nonMounted(() => {\r\n    getLostFoundList();\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.lost-found {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: #f0eeef;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-start;\r\n    flex-direction: column;\r\n\r\n    .header {\r\n        width: 100vw;\r\n        height: 80rpx;\r\n        background-color: #4285f4;\r\n        color: #fff;\r\n        font-size: 36rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .nav {\r\n        width: 100vw;\r\n        height: 80rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        padding: 0 50rpx;\r\n        box-sizing: border-box;\r\n        background-color: #fff;\r\n        font-size: 30rpx;\r\n        font-weight: bold;\r\n        position: relative;\r\n\r\n        .nav-item {\r\n            position: relative;\r\n            z-index: 2;\r\n\r\n            view {\r\n                mix-blend-mode: hue;\r\n            }\r\n        }\r\n\r\n        .active {\r\n            position: absolute;\r\n            left: 0rpx;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n            width: 120rpx;\r\n            height: 60rpx;\r\n            border-radius: 10rpx;\r\n            background-color: #4285f4;\r\n            color: #fff;\r\n            text-align: center;\r\n            line-height: 60rpx;\r\n            z-index: 1;\r\n            left: 30rpx;\r\n            transition: left 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\r\n        }\r\n\r\n        .white {\r\n            color: #fff;\r\n        }\r\n    }\r\n\r\n    .list {\r\n        width: 97vw;\r\n        height: 90vh;\r\n        overflow: scroll;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        flex-direction: column;\r\n        padding-bottom: 20rpx;\r\n\r\n        .lost-found-item {\r\n            margin-top: 20rpx;\r\n            padding: 20rpx;\r\n            width: 100%;\r\n            background-color: #fff;\r\n            box-shadow: 0px 5rpx 10rpx #c8c8c6;\r\n            box-sizing: border-box;\r\n\r\n            .push-info {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: flex-start;\r\n\r\n                .left-pic {\r\n                    image {\r\n                        width: 60rpx;\r\n                        height: 60rpx;\r\n                        border-radius: 50%;\r\n                    }\r\n                }\r\n\r\n                .right-info {\r\n                    margin-left: 10rpx;\r\n\r\n                    view:first-child {\r\n                        font-size: 30rpx;\r\n                        font-weight: bold;\r\n                    }\r\n\r\n                    view:last-child {\r\n                        font-size: 22rpx;\r\n                        color: #c8c8c6;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .content {\r\n                margin-top: 20rpx;\r\n                font-size: 32rpx;\r\n                color: #333;\r\n                line-height: 1.5;\r\n                letter-spacing: 1rpx;\r\n                font-family: \"Gill Sans\";\r\n            }\r\n\r\n            .img-list {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: flex-start;\r\n                flex-wrap: nowrap;\r\n\r\n                image {\r\n                    width: 22vw;\r\n                    height: 22vw;\r\n                    border-radius: 10rpx;\r\n                    overflow: hidden;\r\n                    margin-right: 20rpx;\r\n                    margin-top: 20rpx;\r\n                }\r\n\r\n                image:nth-child(3n + 3) {\r\n                    margin-right: 0;\r\n                }\r\n            }\r\n\r\n            .footer-tool {\r\n                margin-top: 30rpx;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                font-size: 20rpx;\r\n                color: #c8c8c6;\r\n\r\n                > view {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: space-between;\r\n                }\r\n\r\n                button {\r\n                    border: none;\r\n                    outline: none;\r\n                    background-color: transparent;\r\n                    font-size: 22rpx;\r\n                    padding: 0;\r\n                    margin: 0;\r\n                    color: #c8c8c6;\r\n\r\n                    &::after {\r\n                        content: none;\r\n                    }\r\n                }\r\n\r\n                .time {\r\n                    image {\r\n                        width: 20rpx;\r\n                        height: 20rpx;\r\n                        margin-right: 5rpx;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/zhangrui/Library/Mobile Documents/com~apple~CloudDocs/Desktop/桌面/WeChatApp/course-wechat/pages/community/community.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed","getTypeLostFoundListAPI","onMounted","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;AA2CA,UAAA,gBAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,kBAAAA,cAAAA,IAAA,CAAA;AAEA,aAAA,YAAA,MAAA;AACAC,oBAAAA,MAAA,MAAA,OAAA,uCAAA,IAAA;AACA,UAAA,KAAA,WAAA;AACA,cAAA,MAAA,KAAA,UAAA,MAAA,GAAA;AACAA,sBAAAA,MAAA,sBAAA;AAAA,UACA,OAAA,IAAA,CAAA;AAAA,UACA,MAAA,IAAA,CAAA;AAAA,UACA,UAAA;AACAA,0BAAAA,MAAA,MAAA,OAAA,uCAAA,MAAA;AAAA,UACA;AAAA,QACA,CAAA;AAAA,MACA,WACA,KAAA,UAAA;AACAA,sBAAAA,MAAA,iBAAA;AAAA,UACA,MAAA,KAAA;AAAA,UACA,SAAA,WAAA;AACAA,0BAAAA,MAAA,UAAA;AAAA,cACA,OAAA;AAAA,cACA,MAAA;AAAA,YACA,CAAA;AAAA,UACA;AAAA,QACA,CAAA;AAAA,MACA;AAAA,IACA;AAwBAC,kBAAAA,SAAA,MAAA;AACA,aAAA,MAAA,gBAAA,QAAA,KAAA;AAAA,IACA,CAAA;AAEA,aAAA,WAAA,SAAA,OAAA;AACAD,oBAAAA,MAAA,aAAA;AAAA,QACA,MAAA;AAAA,QACA,SAAA;AAAA,QACA,kBAAA;AAAA,UACA,UAAA,CAAA,SAAA,QAAA,IAAA;AAAA,QACA;AAAA,MACA,CAAA;AAAA,IACA;AAEA,mBAAA,iBAAA,OAAA,MAAA;AACAA,oBAAAA,MAAA,YAAA;AAAA,QACA,OAAA;AAAA,MACA,CAAA;AACA,YAAA,MAAA,MAAAE,mCAAA,IAAA;AACA,oBAAA,QAAA,IAAA,KAAA;AACAF,oBAAA,MAAA,YAAA;AAAA,IACA;AAEAG,kBAAAA,UAAA,MAAA;AACA;IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHA,GAAG,WAAWC,SAAe;"}