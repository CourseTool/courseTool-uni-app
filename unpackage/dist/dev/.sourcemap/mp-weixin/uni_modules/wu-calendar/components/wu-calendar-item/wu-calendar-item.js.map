{"version":3,"file":"wu-calendar-item.js","sources":["uni_modules/wu-calendar/components/wu-calendar-item/wu-calendar-item.vue","/Users/zhangrui/Library/Mobile Documents/com~apple~CloudDocs/Desktop/桌面/WeChatApp/course-wechat/uni_modules/wu-calendar/components/wu-calendar-item/wu-calendar-item.vue?type=component"],"sourcesContent":["<template>\n\t<view class=\"wu-calendar-item__weeks-box\" ref=\"$weeksbox\" :style=\"[calendarItemStyle, {\n\t\t\tborderTopLeftRadius: weeks.beforeRange ? '12rpx' : '',\n\t\t\tborderBottomLeftRadius: weeks.beforeRange ? '12rpx' : '',\n\t\t\tborderTopRightRadius: weeks.afterRange ? '12rpx' : '',\n\t\t\tborderBottomRightRadius: weeks.afterRange ? '12rpx' : '',\n\t\t}]\" @click=\"choiceDate(weeks)\">\n\t\t<view class=\"wu-calendar-item__weeks-box-item\" :style=\"[actMultipleStyle, {height: itemHeight + 'px'}]\">\n\t\t\t<!-- 自定义打点上方信息 -->\n\t\t\t<text v-if=\"weeks.extraInfo && weeks.extraInfo.topInfo\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[{color: weeks.extraInfo.topInfoColor || '#e43d33'}, calendarItemStyle, actMultipleStyle]\">{{weeks.extraInfo.topInfo}}</text>\n\t\t\t<!-- 徽标 -->\n\t\t\t<text v-if=\"selected && weeks.extraInfo && weeks.extraInfo.badge\" class=\"wu-calendar-item__weeks-box-circle\" :style=\"[badgeStyle]\"></text>\n\t\t\t<!-- 日期文字 -->\n\t\t\t<text class=\"wu-calendar-item__weeks-box-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{weeks.date}}</text>\n\t\t\t<!-- 今日的文字 -->\n\t\t\t<text v-if=\"!lunar && !weeks.extraInfo && weeks.isDay && !weeks.beforeRange && !weeks.afterRange\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{todayText}}</text>\n\t\t\t<!-- 农历文字 -->\n\t\t\t<text v-if=\"lunar && !weeks.extraInfo && !weeks.beforeRange && !weeks.afterRange\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{dayText}}</text>\n\t\t\t<!-- 选中的文字展示 -->\n\t\t\t<text v-if=\"!weeks.extraInfo && (weeks.beforeRange || weeks.afterRange)\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[calendarItemStyle, actMultipleStyle]\">{{multipleText}}</text>\n\t\t\t<!-- 自定义打点下方信息 -->\n\t\t\t<text v-if=\"weeks.extraInfo && weeks.extraInfo.info\" class=\"wu-calendar-item__weeks-lunar-text\" :style=\"[{color: weeks.extraInfo.infoColor || '#e43d33'}, calendarItemStyle, actMultipleStyle]\">{{weeks.extraInfo.info}}</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport mpMixin from '@/uni_modules/wu-ui-tools/libs/mixin/mpMixin.js';\n\timport mixin from '@/uni_modules/wu-ui-tools/libs/mixin/mixin.js';\n\timport props from './props.js';\n\n\timport {\n\t\tinitVueI18n\n\t} from '@dcloudio/uni-i18n'\n\timport i18nMessages from '../i18n/index.js'\n\tconst {\n\t\tt\n\t} = initVueI18n(i18nMessages)\n\n\texport default {\n\t\temits: ['change'],\n\t\tmixins: [mpMixin, mixin, props],\n\t\tcomputed: {\n\t\t\ttodayText() {\n\t\t\t\treturn t(\"wu-calender.today\")\n\t\t\t},\n\t\t\t// 每项日历样式\n\t\t\tcalendarItemStyle() {\n\t\t\t\tlet style = {};\n\t\t\t\tlet color = this.$w.Color.gradient(this.color, this.$w.Color.isLight(this.color) ? '#000' : '#fff', 100)[6]\n\t\t\t\t// 有顺序别乱动\n\t\t\t\t// 选中的日期范围内的样式\n\t\t\t\tif (this.weeks.rangeMultiple) {\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\tbackgroundColor: this.$w.Color.gradient(this.color, '#fff', 100)[80],\n\t\t\t\t\t\tcolor\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// 今天的日期样式\n\t\t\t\tif (this.weeks.isDay) {\n\t\t\t\t\tstyle.color = color;\n\t\t\t\t}\n\t\t\t\t// 禁用的日期样式\n\t\t\t\tif(this.weeks.disable) {\n\t\t\t\t\tstyle = {\n\t\t\t\t\t\tbackgroundColor: 'rgba(249, 249, 249, 0.3)',\n\t\t\t\t\t\tcolor: '#c0c0c0'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn style;\n\t\t\t},\n\t\t\t// 选中的日期样式\n\t\t\tactMultipleStyle() {\n\t\t\t\tif ((this.weeks.beforeRange || this.weeks.afterRange || this.weeks.multiples || (this.calendar.fullDate === this.weeks\n\t\t\t\t\t\t.fullDate && this.weeks.mode === 'single')) && !this.weeks.disable) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbackgroundColor: this.color,\n\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\tborderRadius: '12rpx'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 徽标样式\n\t\t\tbadgeStyle() {\n\t\t\t\tlet style = {\n\t\t\t\t\tbackgroundColor: this.weeks.disable ? '#c0c0c0' : '#e43d33',\n\t\t\t\t\twidth: '16rpx',\n\t\t\t\t\theight: '16rpx'\n\t\t\t\t};\n\t\t\t\tif(this.weeks.extraInfo) {\n\t\t\t\t\tif(this.weeks.extraInfo.badgeColor) {\n\t\t\t\t\t\t// 如果当前是选中日期的徽标且徽标颜色与主题色一致 为了保证 徽标颜色可以被看见 再选中时将其设置为 #fff\n\t\t\t\t\t\tif ((this.weeks.beforeRange || this.weeks.afterRange || this.weeks.multiples || (this.calendar.fullDate === this.weeks\n\t\t\t\t\t\t\t\t.fullDate && this.weeks.mode === 'single')) && !this.weeks.disable && this.$w.Color.convertFormat(this.weeks.extraInfo.badgeColor) == this.$w.Color.convertFormat(this.color)) {\n\t\t\t\t\t\t\tstyle.backgroundColor = this.actBadgeColor;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstyle.backgroundColor = this.weeks.extraInfo.badgeColor\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.weeks.extraInfo.badgeSize) {\n\t\t\t\t\t\tstyle.width = this.weeks.extraInfo.badgeSize\n\t\t\t\t\t\tstyle.height = this.weeks.extraInfo.badgeSize\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(!this.weeks.extraInfo.badgePosition) {\n\t\t\t\t\t\tstyle.right = '10rpx';\n\t\t\t\t\t\tstyle.top = '10rpx';\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'top-left'){\n\t\t\t\t\t\tstyle.top = '10rpx';\n\t\t\t\t\t\tstyle.left = '10rpx';\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'top-center'){\n\t\t\t\t\t\tstyle.top = '10rpx';\n\t\t\t\t\t\tstyle.left = 'center';\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'top-right'){\n\t\t\t\t\t\tstyle.top = '10rpx';\n\t\t\t\t\t\tstyle.right = '10rpx';\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'bottom-left'){\n\t\t\t\t\t\tstyle.bottom = '10rpx';\n\t\t\t\t\t\tstyle.left = '10rpx';\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'bottom-center'){\n\t\t\t\t\t\tstyle.bottom = '10rpx';\n\t\t\t\t\t\tstyle.left = 'center';\n\t\t\t\t\t} else if(this.weeks.extraInfo.badgePosition == 'bottom-right'){\n\t\t\t\t\t\tstyle.bottom = '10rpx';\n\t\t\t\t\t\tstyle.right = '10rpx';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn style\n\t\t\t},\n\t\t\t// 日期文字\n\t\t\tdayText() {\n\t\t\t\tlet text = '';\n\t\t\t\tif (this.weeks.isDay) {\n\t\t\t\t\ttext = this.todayText\n\t\t\t\t} else if(this.weeks.lunar.festival) {\n\t\t\t\t\ttext = this.weeks.lunar.festival\n\t\t\t\t} else if(this.weeks.lunar.isTerm) {\n\t\t\t\t\ttext = this.weeks.lunar.Term\n\t\t\t\t} else if (this.weeks.lunar.IDayCn === '初一') {\n\t\t\t\t\ttext = this.weeks.lunar.IMonthCn\n\t\t\t\t} else {\n\t\t\t\t\ttext = this.weeks.lunar.IDayCn\n\t\t\t\t}\n\t\t\t\treturn text\n\t\t\t},\n\t\t\t// 选中的文字\n\t\t\tmultipleText() {\n\t\t\t\tlet text = '';\n\t\t\t\tif (this.weeks.afterRange) {\n\t\t\t\t\ttext = this.endText\n\t\t\t\t} else if (this.weeks.beforeRange) {\n\t\t\t\t\ttext = this.startText\n\t\t\t\t} \n\t\t\t\treturn text;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tchoiceDate(weeks) {\n\t\t\t\tthis.$emit('change', weeks)\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t@import '@/uni_modules/wu-ui-tools/theme.scss';\n\t$wu-font-size-base: 28rpx;\n\t$wu-text-color: #333;\n\t$wu-font-size-sm: 24rpx;\n\t$wu-color-error: #e43d33;\n\t$wu-opacity-disabled: 0.3;\n\t$wu-text-color-disable: #c0c0c0;\n\n\t.wu-calendar-item__weeks-box {\n\t\tflex: 1;\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: 0 0.5px;\n\t}\n\n\t.wu-calendar-item__weeks-box-text {\n\t\tfont-size: $wu-font-size-base;\n\t\tcolor: $wu-text-color;\n\t}\n\n\t.wu-calendar-item__weeks-lunar-text {\n\t\tfont-size: $wu-font-size-sm;\n\t\tcolor: $wu-text-color;\n\t}\n\n\t.wu-calendar-item__weeks-box-item {\n\t\tposition: relative;\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t}\n\n\t.wu-calendar-item__weeks-box-circle {\n\t\tposition: absolute;\n\t\tborder-radius: 16rpx;\n\t\tbackground-color: $wu-color-error;\n\t}\n\n\t.wu-calendar-item--disable {\n\t\tbackground-color: rgba(249, 249, 249, $wu-opacity-disabled);\n\t\tcolor: $wu-text-color-disable;\n\t}\n\n\t.wu-calendar-item--extra {\n\t\tcolor: $wu-color-error;\n\t\topacity: 0.8;\n\t}\n\n\t.wu-calendar-item--checked {\n\t\tcolor: #fff;\n\t}\n</style>","import Component from '/Users/zhangrui/Library/Mobile Documents/com~apple~CloudDocs/Desktop/桌面/WeChatApp/course-wechat/uni_modules/wu-calendar/components/wu-calendar-item/wu-calendar-item.vue'\nwx.createComponent(Component)"],"names":["initVueI18n","i18nMessages","mpMixin","mixin","props"],"mappings":"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"}